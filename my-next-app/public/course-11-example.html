<!DOCTYPE html>
<html lang="zh-CN">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Next.jsæ¡†æ¶å…¥é—¨ - å¤ä»£é©¿ç«™ç®¡ç†ç³»ç»Ÿ</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Microsoft YaHei', sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            color: #333;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }

        .header {
            text-align: center;
            margin-bottom: 40px;
            color: white;
        }

        .header h1 {
            font-size: 2.5em;
            margin-bottom: 10px;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.3);
        }

        .header p {
            font-size: 1.2em;
            opacity: 0.9;
        }

        .concept-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
            gap: 30px;
            margin-bottom: 40px;
        }

        .concept-card {
            background: white;
            border-radius: 15px;
            padding: 25px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
            transition: transform 0.3s ease, box-shadow 0.3s ease;
        }

        .concept-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 15px 40px rgba(0, 0, 0, 0.15);
        }

        .concept-card h3 {
            color: #667eea;
            margin-bottom: 15px;
            font-size: 1.4em;
            border-bottom: 2px solid #f0f0f0;
            padding-bottom: 10px;
        }

        .concept-card p {
            line-height: 1.6;
            margin-bottom: 15px;
            color: #666;
        }

        .code-block {
            background: #f8f9fa;
            border: 1px solid #e9ecef;
            border-radius: 8px;
            padding: 15px;
            margin: 15px 0;
            font-family: 'Consolas', 'Monaco', monospace;
            font-size: 0.9em;
            overflow-x: auto;
            white-space: pre-wrap;
        }

        .demo-section {
            background: white;
            border-radius: 15px;
            padding: 30px;
            margin: 30px 0;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
        }

        .demo-section h2 {
            color: #667eea;
            margin-bottom: 20px;
            font-size: 1.8em;
            text-align: center;
        }

        .feature-tabs {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
            margin-bottom: 20px;
            justify-content: center;
        }

        .tab-button {
            background: #667eea;
            color: white;
            border: none;
            padding: 12px 20px;
            border-radius: 25px;
            cursor: pointer;
            transition: all 0.3s ease;
            font-size: 0.9em;
        }

        .tab-button:hover {
            background: #5a6fd8;
            transform: translateY(-2px);
        }

        .tab-button.active {
            background: #764ba2;
            box-shadow: 0 4px 15px rgba(118, 75, 162, 0.3);
        }

        .tab-content {
            display: none;
            background: #f8f9fa;
            border-radius: 10px;
            padding: 20px;
            margin-top: 20px;
        }

        .tab-content.active {
            display: block;
        }

        .routing-demo {
            background: #fff;
            border: 2px solid #667eea;
            border-radius: 10px;
            padding: 20px;
            margin: 20px 0;
        }

        .nav-buttons {
            display: flex;
            gap: 10px;
            margin-bottom: 20px;
            flex-wrap: wrap;
        }

        .nav-button {
            background: #667eea;
            color: white;
            border: none;
            padding: 10px 15px;
            border-radius: 5px;
            cursor: pointer;
            transition: background 0.3s ease;
        }

        .nav-button:hover {
            background: #5a6fd8;
        }

        .nav-button.active {
            background: #764ba2;
        }

        .page-content {
            background: #f8f9fa;
            border-radius: 8px;
            padding: 20px;
            min-height: 200px;
        }

        .station-card {
            background: white;
            border: 1px solid #ddd;
            border-radius: 8px;
            padding: 15px;
            margin: 10px 0;
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
        }

        .station-card h4 {
            color: #667eea;
            margin-bottom: 10px;
        }

        .status-badge {
            display: inline-block;
            padding: 4px 8px;
            border-radius: 12px;
            font-size: 0.8em;
            font-weight: bold;
        }

        .status-active {
            background: #d4edda;
            color: #155724;
        }

        .status-maintenance {
            background: #fff3cd;
            color: #856404;
        }

        .status-closed {
            background: #f8d7da;
            color: #721c24;
        }

        .api-demo {
            background: #f8f9fa;
            border-radius: 8px;
            padding: 20px;
            margin: 20px 0;
        }

        .api-controls {
            display: flex;
            gap: 10px;
            margin-bottom: 15px;
            flex-wrap: wrap;
        }

        .api-button {
            background: #28a745;
            color: white;
            border: none;
            padding: 8px 15px;
            border-radius: 5px;
            cursor: pointer;
            transition: background 0.3s ease;
        }

        .api-button:hover {
            background: #218838;
        }

        .api-response {
            background: #fff;
            border: 1px solid #ddd;
            border-radius: 5px;
            padding: 15px;
            margin-top: 10px;
            font-family: monospace;
            white-space: pre-wrap;
            max-height: 300px;
            overflow-y: auto;
        }

        .middleware-demo {
            background: #e3f2fd;
            border-left: 4px solid #2196f3;
            padding: 15px;
            margin: 15px 0;
        }

        .middleware-demo h4 {
            color: #1976d2;
            margin-bottom: 10px;
        }

        .optimization-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin: 20px 0;
        }

        .optimization-card {
            background: white;
            border: 1px solid #ddd;
            border-radius: 8px;
            padding: 15px;
            text-align: center;
        }

        .optimization-card h4 {
            color: #667eea;
            margin-bottom: 10px;
        }

        .performance-meter {
            width: 100%;
            height: 20px;
            background: #f0f0f0;
            border-radius: 10px;
            overflow: hidden;
            margin: 10px 0;
        }

        .performance-bar {
            height: 100%;
            background: linear-gradient(90deg, #ff6b6b, #feca57, #48dbfb, #0abde3);
            transition: width 0.5s ease;
        }

        @media (max-width: 768px) {
            .concept-grid {
                grid-template-columns: 1fr;
            }

            .feature-tabs {
                flex-direction: column;
            }

            .nav-buttons {
                flex-direction: column;
            }

            .api-controls {
                flex-direction: column;
            }
        }
    </style>
</head>

<body>
    <div class="container">
        <div class="header">
            <h1>ğŸ›ï¸ Next.jsæ¡†æ¶å…¥é—¨</h1>
            <p>é€šè¿‡å¤ä»£é©¿ç«™ç®¡ç†ç³»ç»Ÿå­¦ä¹ Next.jsæ ¸å¿ƒæ¦‚å¿µ</p>
        </div>

        <div class="concept-grid">
            <div class="concept-card">
                <h3>ğŸš€ Next.jsç®€ä»‹</h3>
                <p>Next.jsæ˜¯åŸºäºReactçš„å…¨æ ˆæ¡†æ¶ï¼Œæä¾›äº†æœåŠ¡ç«¯æ¸²æŸ“(SSR)ã€é™æ€ç«™ç‚¹ç”Ÿæˆ(SSG)ã€APIè·¯ç”±ç­‰åŠŸèƒ½ã€‚</p>
                <div class="code-block">// åˆ›å»ºNext.jsé¡¹ç›®
                    npx create-next-app@latest my-app
                    cd my-app
                    npm run dev

                    // é¡¹ç›®ç»“æ„
                    my-app/
                    â”œâ”€â”€ pages/ # é¡µé¢è·¯ç”±
                    â”œâ”€â”€ public/ # é™æ€èµ„æº
                    â”œâ”€â”€ styles/ # æ ·å¼æ–‡ä»¶
                    â”œâ”€â”€ components/ # ç»„ä»¶
                    â””â”€â”€ api/ # APIè·¯ç”±</div>
            </div>

            <div class="concept-card">
                <h3>ğŸ“ æ–‡ä»¶ç³»ç»Ÿè·¯ç”±</h3>
                <p>Next.jsä½¿ç”¨åŸºäºæ–‡ä»¶ç³»ç»Ÿçš„è·¯ç”±ï¼Œpagesç›®å½•ä¸‹çš„æ–‡ä»¶è‡ªåŠ¨æˆä¸ºè·¯ç”±ã€‚</p>
                <div class="code-block">// pages/index.js â†’ /
                    // pages/about.js â†’ /about
                    // pages/stations/[id].js â†’ /stations/123
                    // pages/api/stations.js â†’ /api/stations

                    // åŠ¨æ€è·¯ç”±ç¤ºä¾‹
                    export default function Station({ station }) {
                    return (
                    <div>
                        <h1>{station.name}</h1>
                        <p>ä½ç½®: {station.location}</p>
                    </div>
                    );
                    }
                </div>
            </div>

            <div class="concept-card">
                <h3>ğŸ”„ æ•°æ®è·å–æ–¹æ³•</h3>
                <p>Next.jsæä¾›å¤šç§æ•°æ®è·å–æ–¹æ³•ï¼šgetStaticPropsã€getServerSidePropsã€getStaticPathsç­‰ã€‚</p>
                <div class="code-block">// é™æ€ç”Ÿæˆ (SSG)
                    export async function getStaticProps() {
                    const stations = await fetchStations();
                    return {
                    props: { stations },
                    revalidate: 60 // ISR
                    };
                    }

                    // æœåŠ¡ç«¯æ¸²æŸ“ (SSR)
                    export async function getServerSideProps(context) {
                    const { id } = context.params;
                    const station = await fetchStation(id);
                    return { props: { station } };
                    }</div>
            </div>

            <div class="concept-card">
                <h3>ğŸ› ï¸ APIè·¯ç”±</h3>
                <p>åœ¨pages/apiç›®å½•ä¸‹åˆ›å»ºAPIç«¯ç‚¹ï¼Œæ”¯æŒRESTful APIå’Œä¸­é—´ä»¶ã€‚</p>
                <div class="code-block">// pages/api/stations.js
                    export default function handler(req, res) {
                    if (req.method === 'GET') {
                    res.status(200).json(stations);
                    } else if (req.method === 'POST') {
                    const newStation = req.body;
                    stations.push(newStation);
                    res.status(201).json(newStation);
                    }
                    }</div>
            </div>
        </div>

        <div class="demo-section">
            <h2>ğŸ›ï¸ å¤ä»£é©¿ç«™ç®¡ç†ç³»ç»Ÿæ¼”ç¤º</h2>

            <div class="feature-tabs">
                <button class="tab-button active" onclick="showTab('routing')">è·¯ç”±ç³»ç»Ÿ</button>
                <button class="tab-button" onclick="showTab('ssr')">æœåŠ¡ç«¯æ¸²æŸ“</button>
                <button class="tab-button" onclick="showTab('api')">APIè·¯ç”±</button>
                <button class="tab-button" onclick="showTab('optimization')">æ€§èƒ½ä¼˜åŒ–</button>
            </div>

            <div id="routing" class="tab-content active">
                <h3>ğŸ“ é©¿ç«™è·¯ç”±ç³»ç»Ÿ</h3>
                <p>æ¨¡æ‹ŸNext.jsçš„æ–‡ä»¶ç³»ç»Ÿè·¯ç”±ï¼Œå±•ç¤ºä¸åŒé¡µé¢é—´çš„å¯¼èˆªã€‚</p>

                <div class="routing-demo">
                    <div class="nav-buttons">
                        <button class="nav-button active" onclick="navigateTo('home')">é¦–é¡µ (/)</button>
                        <button class="nav-button" onclick="navigateTo('stations')">é©¿ç«™åˆ—è¡¨ (/stations)</button>
                        <button class="nav-button" onclick="navigateTo('station-detail')">é©¿ç«™è¯¦æƒ… (/stations/[id])</button>
                        <button class="nav-button" onclick="navigateTo('about')">å…³äº (/about)</button>
                    </div>

                    <div class="page-content" id="page-content">
                        <h3>ğŸ  é©¿ç«™ç®¡ç†ç³»ç»Ÿé¦–é¡µ</h3>
                        <p>æ¬¢è¿æ¥åˆ°å¤ä»£é©¿ç«™ç®¡ç†ç³»ç»Ÿï¼è¿™é‡Œç®¡ç†ç€ä¸ç»¸ä¹‹è·¯ä¸Šçš„å„ä¸ªé©¿ç«™ã€‚</p>
                        <div class="station-card">
                            <h4>ç³»ç»Ÿæ¦‚è§ˆ</h4>
                            <p>â€¢ æ€»é©¿ç«™æ•°: 15ä¸ª</p>
                            <p>â€¢ æ´»è·ƒé©¿ç«™: 12ä¸ª</p>
                            <p>â€¢ ç»´æŠ¤ä¸­: 2ä¸ª</p>
                            <p>â€¢ å…³é—­: 1ä¸ª</p>
                        </div>
                    </div>
                </div>

                <div class="code-block">// pages/index.js - é¦–é¡µ
                    export default function Home({ stats }) {
                    return (
                    <div>
                        <h1>é©¿ç«™ç®¡ç†ç³»ç»Ÿ</h1>
                        <StationStats stats={stats} />
                    </div>
                    );
                    }

                    // pages/stations/index.js - é©¿ç«™åˆ—è¡¨
                    export default function Stations({ stations }) {
                    return (
                    <div>
                        <h1>é©¿ç«™åˆ—è¡¨</h1>
                        {stations.map(station => (
                        <StationCard key={station.id} station={station} />
                        ))}
                    </div>
                    );
                    }

                    // pages/stations/[id].js - åŠ¨æ€è·¯ç”±
                    export default function StationDetail({ station }) {
                    return (
                    <div>
                        <h1>{station.name}</h1>
                        <p>ä½ç½®: {station.location}</p>
                        <p>çŠ¶æ€: {station.status}</p>
                    </div>
                    );
                    }
                </div>
            </div>

            <div id="ssr" class="tab-content">
                <h3>ğŸ”„ æœåŠ¡ç«¯æ¸²æŸ“æ¼”ç¤º</h3>
                <p>å±•ç¤ºSSGã€SSRå’ŒISRçš„åŒºåˆ«å’Œåº”ç”¨åœºæ™¯ã€‚</p>

                <div class="middleware-demo">
                    <h4>é™æ€ç”Ÿæˆ (SSG)</h4>
                    <p>æ„å»ºæ—¶é¢„æ¸²æŸ“é¡µé¢ï¼Œé€‚åˆå†…å®¹ç›¸å¯¹å›ºå®šçš„é¡µé¢ã€‚</p>
                    <div class="code-block">// é©¿ç«™åˆ—è¡¨é¡µé¢ - ä½¿ç”¨SSG
                        export async function getStaticProps() {
                        const stations = await fetchStationsFromDB();

                        return {
                        props: {
                        stations,
                        buildTime: new Date().toISOString()
                        },
                        revalidate: 3600 // 1å°æ—¶åé‡æ–°ç”Ÿæˆ
                        };
                        }</div>
                </div>

                <div class="middleware-demo">
                    <h4>æœåŠ¡ç«¯æ¸²æŸ“ (SSR)</h4>
                    <p>æ¯æ¬¡è¯·æ±‚æ—¶åœ¨æœåŠ¡å™¨æ¸²æŸ“ï¼Œé€‚åˆéœ€è¦å®æ—¶æ•°æ®çš„é¡µé¢ã€‚</p>
                    <div class="code-block">// é©¿ç«™è¯¦æƒ…é¡µé¢ - ä½¿ç”¨SSR
                        export async function getServerSideProps(context) {
                        const { id } = context.params;
                        const station = await fetchStationById(id);
                        const weather = await fetchCurrentWeather(station.location);

                        return {
                        props: {
                        station,
                        weather,
                        timestamp: Date.now()
                        }
                        };
                        }</div>
                </div>

                <div class="middleware-demo">
                    <h4>å¢é‡é™æ€å†ç”Ÿ (ISR)</h4>
                    <p>ç»“åˆSSGå’ŒSSRçš„ä¼˜åŠ¿ï¼ŒæŒ‰éœ€æ›´æ–°é™æ€é¡µé¢ã€‚</p>
                    <div class="code-block">// ä½¿ç”¨ISRçš„é©¿ç«™é¡µé¢
                        export async function getStaticProps() {
                        const stations = await fetchStations();

                        return {
                        props: { stations },
                        revalidate: 60 // 60ç§’åé‡æ–°éªŒè¯
                        };
                        }

                        export async function getStaticPaths() {
                        const stations = await fetchStations();
                        const paths = stations.map(station => ({
                        params: { id: station.id.toString() }
                        }));

                        return {
                        paths,
                        fallback: 'blocking' // æ–°é¡µé¢æŒ‰éœ€ç”Ÿæˆ
                        };
                        }</div>
                </div>

                <button class="api-button" onclick="demonstrateSSR()">æ¼”ç¤ºæ¸²æŸ“æ–¹å¼</button>
                <div class="api-response" id="ssr-demo">ç‚¹å‡»æŒ‰é’®æŸ¥çœ‹ä¸åŒæ¸²æŸ“æ–¹å¼çš„æ•ˆæœ...</div>
            </div>

            <div id="api" class="tab-content">
                <h3>ğŸ› ï¸ APIè·¯ç”±æ¼”ç¤º</h3>
                <p>å±•ç¤ºNext.js APIè·¯ç”±çš„ä½¿ç”¨ï¼Œæ¨¡æ‹Ÿé©¿ç«™æ•°æ®çš„CRUDæ“ä½œã€‚</p>

                <div class="api-demo">
                    <h4>é©¿ç«™APIç«¯ç‚¹</h4>
                    <div class="api-controls">
                        <button class="api-button" onclick="callAPI('GET', '/api/stations')">GET è·å–é©¿ç«™åˆ—è¡¨</button>
                        <button class="api-button" onclick="callAPI('POST', '/api/stations')">POST åˆ›å»ºæ–°é©¿ç«™</button>
                        <button class="api-button" onclick="callAPI('PUT', '/api/stations/1')">PUT æ›´æ–°é©¿ç«™</button>
                        <button class="api-button" onclick="callAPI('DELETE', '/api/stations/1')">DELETE åˆ é™¤é©¿ç«™</button>
                    </div>
                    <div class="api-response" id="api-response">APIå“åº”å°†æ˜¾ç¤ºåœ¨è¿™é‡Œ...</div>
                </div>

                <div class="code-block">// pages/api/stations/index.js
                    export default function handler(req, res) {
                    switch (req.method) {
                    case 'GET':
                    return getStations(req, res);
                    case 'POST':
                    return createStation(req, res);
                    default:
                    res.setHeader('Allow', ['GET', 'POST']);
                    res.status(405).end(`Method ${req.method} Not Allowed`);
                    }
                    }

                    async function getStations(req, res) {
                    try {
                    const stations = await db.stations.findMany();
                    res.status(200).json(stations);
                    } catch (error) {
                    res.status(500).json({ error: 'è·å–é©¿ç«™åˆ—è¡¨å¤±è´¥' });
                    }
                    }

                    // pages/api/stations/[id].js - åŠ¨æ€APIè·¯ç”±
                    export default function handler(req, res) {
                    const { id } = req.query;

                    switch (req.method) {
                    case 'GET':
                    return getStation(id, res);
                    case 'PUT':
                    return updateStation(id, req.body, res);
                    case 'DELETE':
                    return deleteStation(id, res);
                    }
                    }</div>

                <div class="middleware-demo">
                    <h4>ä¸­é—´ä»¶ä½¿ç”¨</h4>
                    <p>APIè·¯ç”±æ”¯æŒä¸­é—´ä»¶ï¼Œå¯ä»¥å¤„ç†è®¤è¯ã€æ—¥å¿—ã€CORSç­‰ã€‚</p>
                    <div class="code-block">// middleware/auth.js
                        export function authMiddleware(req, res, next) {
                        const token = req.headers.authorization;

                        if (!token) {
                        return res.status(401).json({ error: 'æœªæˆæƒè®¿é—®' });
                        }

                        try {
                        const user = verifyToken(token);
                        req.user = user;
                        next();
                        } catch (error) {
                        res.status(401).json({ error: 'æ— æ•ˆä»¤ç‰Œ' });
                        }
                        }

                        // åœ¨APIè·¯ç”±ä¸­ä½¿ç”¨
                        import { authMiddleware } from '../../middleware/auth';

                        export default function handler(req, res) {
                        authMiddleware(req, res, () => {
                        // å·²è®¤è¯çš„ç”¨æˆ·æ‰èƒ½è®¿é—®
                        handleRequest(req, res);
                        });
                        }</div>
                </div>
            </div>

            <div id="optimization" class="tab-content">
                <h3>âš¡ æ€§èƒ½ä¼˜åŒ–æ¼”ç¤º</h3>
                <p>å±•ç¤ºNext.jsçš„å„ç§æ€§èƒ½ä¼˜åŒ–ç‰¹æ€§ã€‚</p>

                <div class="optimization-grid">
                    <div class="optimization-card">
                        <h4>ğŸ–¼ï¸ å›¾ç‰‡ä¼˜åŒ–</h4>
                        <p>è‡ªåŠ¨ä¼˜åŒ–å›¾ç‰‡å¤§å°å’Œæ ¼å¼</p>
                        <div class="performance-meter">
                            <div class="performance-bar" style="width: 85%"></div>
                        </div>
                        <p>æ€§èƒ½æå‡: 85%</p>
                    </div>

                    <div class="optimization-card">
                        <h4>ğŸ“¦ ä»£ç åˆ†å‰²</h4>
                        <p>è‡ªåŠ¨åˆ†å‰²ä»£ç ï¼ŒæŒ‰éœ€åŠ è½½</p>
                        <div class="performance-meter">
                            <div class="performance-bar" style="width: 70%"></div>
                        </div>
                        <p>åŒ…å¤§å°å‡å°‘: 70%</p>
                    </div>

                    <div class="optimization-card">
                        <h4>ğŸ”„ é¢„åŠ è½½</h4>
                        <p>æ™ºèƒ½é¢„åŠ è½½å…³é”®èµ„æº</p>
                        <div class="performance-meter">
                            <div class="performance-bar" style="width: 60%"></div>
                        </div>
                        <p>åŠ è½½é€Ÿåº¦æå‡: 60%</p>
                    </div>

                    <div class="optimization-card">
                        <h4>ğŸ’¾ ç¼“å­˜ç­–ç•¥</h4>
                        <p>æ™ºèƒ½ç¼“å­˜é™æ€èµ„æº</p>
                        <div class="performance-meter">
                            <div class="performance-bar" style="width: 90%"></div>
                        </div>
                        <p>ç¼“å­˜å‘½ä¸­ç‡: 90%</p>
                    </div>
                </div>

                <div class="code-block">// å›¾ç‰‡ä¼˜åŒ–
                    import Image from 'next/image';

                    function StationImage({ station }) {
                    return (
                    <Image src={station.imageUrl} alt={station.name} width={500} height={300}
                        priority={station.featured} // ä¼˜å…ˆåŠ è½½ placeholder="blur" // æ¨¡ç³Šå ä½ç¬¦
                        blurDataURL="data:image/jpeg;base64,..." />
                    );
                    }

                    // åŠ¨æ€å¯¼å…¥å’Œä»£ç åˆ†å‰²
                    import dynamic from 'next/dynamic';

                    const StationMap = dynamic(() => import('../components/StationMap'), {
                    loading: () => <p>åŠ è½½åœ°å›¾ä¸­...</p>,
                    ssr: false // ç¦ç”¨æœåŠ¡ç«¯æ¸²æŸ“
                    });

                    // é¢„åŠ è½½å…³é”®é¡µé¢
                    import Link from 'next/link';

                    function StationCard({ station }) {
                    return (
                    <Link href={`/stations/${station.id}`} prefetch={true}>
                    <a>{station.name}</a>
                    </Link>
                    );
                    }
                </div>

                <button class="api-button" onclick="demonstrateOptimization()">æ¼”ç¤ºæ€§èƒ½ä¼˜åŒ–</button>
                <div class="api-response" id="optimization-demo">ç‚¹å‡»æŒ‰é’®æŸ¥çœ‹ä¼˜åŒ–æ•ˆæœ...</div>
            </div>
        </div>
    </div>

    <script>
        // æ¨¡æ‹Ÿé©¿ç«™æ•°æ®
        const stations = [
            { id: 1, name: 'é•¿å®‰é©¿ç«™', location: 'é•¿å®‰åŸä¸œé—¨', status: 'active', description: 'ä¸ç»¸ä¹‹è·¯èµ·ç‚¹é©¿ç«™' },
            { id: 2, name: 'æ•¦ç…Œé©¿ç«™', location: 'æ•¦ç…Œè«é«˜çªŸé™„è¿‘', status: 'active', description: 'è¥¿åŸŸæ–‡åŒ–äº¤æ±‡ç‚¹' },
            { id: 3, name: 'ç‰é—¨å…³é©¿ç«™', location: 'ç‰é—¨å…³è¦å¡', status: 'maintenance', description: 'è¾¹å…³é‡è¦é©¿ç«™' },
            { id: 4, name: 'æ¥¼å…°é©¿ç«™', location: 'æ¥¼å…°å¤åŸ', status: 'closed', description: 'ç¥ç§˜çš„æ²™æ¼ é©¿ç«™' },
            { id: 5, name: 'é«˜æ˜Œé©¿ç«™', location: 'é«˜æ˜Œæ•…åŸ', status: 'active', description: 'è¥¿åŸŸé‡é•‡é©¿ç«™' }
        ];

        function showTab(tabName) {
            // éšè—æ‰€æœ‰æ ‡ç­¾å†…å®¹
            const contents = document.querySelectorAll('.tab-content');
            contents.forEach(content => content.classList.remove('active'));

            // ç§»é™¤æ‰€æœ‰æŒ‰é’®çš„æ´»è·ƒçŠ¶æ€
            const buttons = document.querySelectorAll('.tab-button');
            buttons.forEach(button => button.classList.remove('active'));

            // æ˜¾ç¤ºé€‰ä¸­çš„æ ‡ç­¾å†…å®¹
            document.getElementById(tabName).classList.add('active');

            // æ¿€æ´»å¯¹åº”æŒ‰é’®
            event.target.classList.add('active');
        }

        function navigateTo(page) {
            const content = document.getElementById('page-content');
            const buttons = document.querySelectorAll('.nav-button');

            // æ›´æ–°æŒ‰é’®çŠ¶æ€
            buttons.forEach(btn => btn.classList.remove('active'));
            event.target.classList.add('active');

            // æ ¹æ®é¡µé¢æ˜¾ç¤ºä¸åŒå†…å®¹
            switch (page) {
                case 'home':
                    content.innerHTML = `
                        <h3>ğŸ  é©¿ç«™ç®¡ç†ç³»ç»Ÿé¦–é¡µ</h3>
                        <p>æ¬¢è¿æ¥åˆ°å¤ä»£é©¿ç«™ç®¡ç†ç³»ç»Ÿï¼è¿™é‡Œç®¡ç†ç€ä¸ç»¸ä¹‹è·¯ä¸Šçš„å„ä¸ªé©¿ç«™ã€‚</p>
                        <div class="station-card">
                            <h4>ç³»ç»Ÿæ¦‚è§ˆ</h4>
                            <p>â€¢ æ€»é©¿ç«™æ•°: 15ä¸ª</p>
                            <p>â€¢ æ´»è·ƒé©¿ç«™: 12ä¸ª</p>
                            <p>â€¢ ç»´æŠ¤ä¸­: 2ä¸ª</p>
                            <p>â€¢ å…³é—­: 1ä¸ª</p>
                        </div>
                    `;
                    break;

                case 'stations':
                    content.innerHTML = `
                        <h3>ğŸ“ é©¿ç«™åˆ—è¡¨</h3>
                        <p>ä¸ç»¸ä¹‹è·¯ä¸Šçš„é‡è¦é©¿ç«™ä¿¡æ¯</p>
                        ${stations.map(station => `
                            <div class="station-card">
                                <h4>${station.name}</h4>
                                <p>ä½ç½®: ${station.location}</p>
                                <p>æè¿°: ${station.description}</p>
                                <span class="status-badge status-${station.status}">
                                    ${getStatusText(station.status)}
                                </span>
                            </div>
                        `).join('')}
                    `;
                    break;

                case 'station-detail':
                    const station = stations[0];
                    content.innerHTML = `
                        <h3>ğŸ›ï¸ ${station.name} è¯¦æƒ…</h3>
                        <div class="station-card">
                            <h4>åŸºæœ¬ä¿¡æ¯</h4>
                            <p><strong>ä½ç½®:</strong> ${station.location}</p>
                            <p><strong>çŠ¶æ€:</strong> <span class="status-badge status-${station.status}">${getStatusText(station.status)}</span></p>
                            <p><strong>æè¿°:</strong> ${station.description}</p>
                            <p><strong>å»ºç«‹æ—¶é—´:</strong> å”è´è§‚ä¸‰å¹´</p>
                            <p><strong>ç®¡ç†å‘˜:</strong> ææ˜å¾·</p>
                            <p><strong>å®¹çº³äººæ•°:</strong> 200äºº</p>
                            <p><strong>é©¬åŒ¹æ•°é‡:</strong> 150åŒ¹</p>
                        </div>
                        <div class="station-card">
                            <h4>æœ€è¿‘æ´»åŠ¨</h4>
                            <p>â€¢ å•†é˜Ÿ"è¥¿åŸŸè¡Œ"äºæ˜¨æ—¥æŠµè¾¾</p>
                            <p>â€¢ è¡¥å……ç²®è‰å’Œé¥®æ°´</p>
                            <p>â€¢ ç»´ä¿®é©¬å©è®¾æ–½</p>
                        </div>
                    `;
                    break;

                case 'about':
                    content.innerHTML = `
                        <h3>â„¹ï¸ å…³äºç³»ç»Ÿ</h3>
                        <div class="station-card">
                            <h4>ç³»ç»Ÿä»‹ç»</h4>
                            <p>æœ¬ç³»ç»Ÿä½¿ç”¨Next.jsæ¡†æ¶æ„å»ºï¼Œå±•ç¤ºäº†ç°ä»£Webå¼€å‘çš„æœ€ä½³å®è·µã€‚</p>
                            <p><strong>æŠ€æœ¯æ ˆ:</strong></p>
                            <ul>
                                <li>Next.js - Reactå…¨æ ˆæ¡†æ¶</li>
                                <li>React - ç”¨æˆ·ç•Œé¢åº“</li>
                                <li>Node.js - æœåŠ¡ç«¯è¿è¡Œæ—¶</li>
                                <li>MongoDB - æ•°æ®åº“</li>
                            </ul>
                            <p><strong>ç‰¹æ€§:</strong></p>
                            <ul>
                                <li>æœåŠ¡ç«¯æ¸²æŸ“ (SSR)</li>
                                <li>é™æ€ç«™ç‚¹ç”Ÿæˆ (SSG)</li>
                                <li>APIè·¯ç”±</li>
                                <li>è‡ªåŠ¨ä»£ç åˆ†å‰²</li>
                                <li>å›¾ç‰‡ä¼˜åŒ–</li>
                            </ul>
                        </div>
                    `;
                    break;
            }
        }

        function getStatusText(status) {
            const statusMap = {
                'active': 'è¿è¥ä¸­',
                'maintenance': 'ç»´æŠ¤ä¸­',
                'closed': 'å·²å…³é—­'
            };
            return statusMap[status] || status;
        }

        function callAPI(method, endpoint) {
            const response = document.getElementById('api-response');

            // æ¨¡æ‹ŸAPIè°ƒç”¨
            setTimeout(() => {
                let result;

                switch (method) {
                    case 'GET':
                        if (endpoint === '/api/stations') {
                            result = {
                                success: true,
                                data: stations,
                                count: stations.length
                            };
                        }
                        break;

                    case 'POST':
                        result = {
                            success: true,
                            message: 'æ–°é©¿ç«™åˆ›å»ºæˆåŠŸ',
                            data: {
                                id: 6,
                                name: 'æ–°å»ºé©¿ç«™',
                                location: 'å¾…å®šä½ç½®',
                                status: 'active'
                            }
                        };
                        break;

                    case 'PUT':
                        result = {
                            success: true,
                            message: 'é©¿ç«™ä¿¡æ¯æ›´æ–°æˆåŠŸ',
                            data: {
                                id: 1,
                                name: 'é•¿å®‰é©¿ç«™ï¼ˆå·²æ›´æ–°ï¼‰',
                                location: 'é•¿å®‰åŸä¸œé—¨',
                                status: 'active'
                            }
                        };
                        break;

                    case 'DELETE':
                        result = {
                            success: true,
                            message: 'é©¿ç«™åˆ é™¤æˆåŠŸ',
                            deletedId: 1
                        };
                        break;
                }

                response.textContent = `${method} ${endpoint}\n\n` + JSON.stringify(result, null, 2);
            }, 500);

            response.textContent = `æ­£åœ¨è°ƒç”¨ ${method} ${endpoint}...`;
        }

        function demonstrateSSR() {
            const demo = document.getElementById('ssr-demo');

            demo.innerHTML = `
æ¸²æŸ“æ–¹å¼å¯¹æ¯”æ¼”ç¤º:

1. é™æ€ç”Ÿæˆ (SSG)
   âœ… æ„å»ºæ—¶é—´: 2023-12-01 10:00:00
   âœ… é¡µé¢åŠ è½½é€Ÿåº¦: æå¿«
   âœ… SEOå‹å¥½: æ˜¯
   âš ï¸  æ•°æ®å®æ—¶æ€§: ä½
   
2. æœåŠ¡ç«¯æ¸²æŸ“ (SSR)
   âœ… è¯·æ±‚æ—¶é—´: ${new Date().toLocaleString()}
   âœ… æ•°æ®å®æ—¶æ€§: é«˜
   âœ… SEOå‹å¥½: æ˜¯
   âš ï¸  é¡µé¢åŠ è½½é€Ÿåº¦: ä¸­ç­‰
   
3. å®¢æˆ·ç«¯æ¸²æŸ“ (CSR)
   âœ… äº¤äº’æ€§: å¼º
   âœ… ç”¨æˆ·ä½“éªŒ: å¥½
   âš ï¸  é¦–å±åŠ è½½: æ…¢
   âš ï¸  SEOå‹å¥½: å·®
   
4. å¢é‡é™æ€å†ç”Ÿ (ISR)
   âœ… ç»“åˆSSGå’ŒSSRä¼˜åŠ¿
   âœ… æŒ‰éœ€æ›´æ–°é™æ€é¡µé¢
   âœ… æ€§èƒ½å’Œå®æ—¶æ€§å¹³è¡¡
            `;
        }

        function demonstrateOptimization() {
            const demo = document.getElementById('optimization-demo');

            demo.innerHTML = `
æ€§èƒ½ä¼˜åŒ–æ•ˆæœæ¼”ç¤º:

ğŸ“Š ä¼˜åŒ–å‰åå¯¹æ¯”:

å›¾ç‰‡ä¼˜åŒ–:
  â€¢ åŸå§‹å¤§å°: 2.5MB
  â€¢ ä¼˜åŒ–å: 380KB
  â€¢ å‹ç¼©ç‡: 85%
  â€¢ æ ¼å¼è½¬æ¢: JPEG â†’ WebP
  
ä»£ç åˆ†å‰²:
  â€¢ åŸå§‹åŒ…å¤§å°: 1.2MB
  â€¢ åˆ†å‰²åä¸»åŒ…: 350KB
  â€¢ æŒ‰éœ€åŠ è½½: 70%å‡å°‘
  â€¢ é¦–å±åŠ è½½æ—¶é—´: 3.2s â†’ 1.1s
  
é¢„åŠ è½½ç­–ç•¥:
  â€¢ å…³é”®èµ„æºé¢„åŠ è½½: å¯ç”¨
  â€¢ è·¯ç”±é¢„å–: å¯ç”¨
  â€¢ å­—ä½“é¢„åŠ è½½: å¯ç”¨
  â€¢ ç”¨æˆ·ä½“éªŒæå‡: 60%
  
ç¼“å­˜ä¼˜åŒ–:
  â€¢ é™æ€èµ„æºç¼“å­˜: 1å¹´
  â€¢ APIå“åº”ç¼“å­˜: 5åˆ†é’Ÿ
  â€¢ é¡µé¢ç¼“å­˜: ISR
  â€¢ ç¼“å­˜å‘½ä¸­ç‡: 90%
  
ğŸš€ æ€»ä½“æ€§èƒ½æå‡:
  â€¢ Lighthouseåˆ†æ•°: 65 â†’ 95
  â€¢ é¦–å±æ¸²æŸ“: 3.2s â†’ 1.1s
  â€¢ å¯äº¤äº’æ—¶é—´: 4.5s â†’ 1.8s
  â€¢ ç´¯ç§¯å¸ƒå±€åç§»: 0.25 â†’ 0.05
            `;
        }
    </script>
</body>

</html>